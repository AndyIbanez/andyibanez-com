<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.70.0" />

    
    
    

<title>Understanding Basic Data Structures in Swift: Sets • Andy Ibanez</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Understanding Basic Data Structures in Swift: Sets"/>
<meta name="twitter:description" content="Learn what sets are and how to use them in Swift."/>

<meta property="og:title" content="Understanding Basic Data Structures in Swift: Sets" />
<meta property="og:description" content="Learn what sets are and how to use them in Swift." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.andyibanez.com/posts/understanding-basic-data-structures-swift-sets/" />
<meta property="article:published_time" content="2021-01-20T07:00:00-04:00" />
<meta property="article:modified_time" content="2021-01-20T07:00:00-04:00" /><meta property="og:site_name" content="Andy Ibanez - iOS Developer" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.e4368406c047b72036bd31fdf69f74f805156724914c166a0accb2369a218b61.css" integrity="sha256-5DaEBsBHtyA2vTH99p90&#43;AUVZySRTBZqCsyyNpohi2E=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    <script data-ad-client="ca-pub-3640551804216350" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-146179797-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.andyibanez.com">Andy Ibanez</a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/196dd48d2ac425661edf58028d499370?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
         Software Developer from La Paz, Bolivia. Programming for iOS since 2011. 
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Andy Ibanez</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/posts/">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/tags/wwdc2020/">
						<span>WWDC 2020</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/projects/">
						<span>Projects</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about/">
						<span>About Me</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/privacy-policy/">
						<span>Privacy Policy</span>
					</a>
				</li>
			 
		
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/AndyIbanezK" rel="me"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://facebook.com/AndyIbanezCom" rel="me"><i class="fab fa-facebook-f"></i></a>
	
	
	<a href="https://github.com/andyibanez" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://instagram.com/andyibanez" rel="me"><i class="fab fa-instagram fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://linkedin.com/in/andr%c3%a9s-iba%c3%b1ez-30234033" rel="me"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a>
	
	
	<a href="https://stackoverflow.com/users/648767" rel="me"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	<a href="https://keybase.io/andyibanez" rel="me"><i class="fab fa-keybase fa-lg" aria-hidden="true"></i></a>
	
	
	
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2021 Andrés Ibañez
  
</div>



  </div>
</div>

        <div class="content container">
            
    
<article>
  <header>
    <h1>Understanding Basic Data Structures in Swift: Sets</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Jan 20, 2021
    
    
    
      
      
          in
          
          
              <a class="badge badge-category" href="/categories/development">DEVELOPMENT</a>
              
          
      
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/swift">swift</a>
           
      
          <a class="badge badge-tag" href="/tags/apple">apple</a>
           
      
          <a class="badge badge-tag" href="/tags/sets">sets</a>
           
      
          <a class="badge badge-tag" href="/tags/data-structures">data structures</a>
           
      
          <a class="badge badge-tag" href="/tags/data">data</a>
           
      
          <a class="badge badge-tag" href="/tags/structures">structures</a>
           
      
          <a class="badge badge-tag" href="/tags/foundation">foundation</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 11 min read
</div>


  </header>
  
  
  <div class="post">
    <p>I&rsquo;m introducing a short small series in which we will talk about basic data structures in Swift. My goal is not to show how they are implemented internally, but rather to show when they can be useful.</p>
<p>In truth, unless you have studied Computer Science to some capacity, chances are you are missing on a lot of powerful existing data structures that can help you write better code. I have been studying iOS development for a long time with many resources, and none of the resources ever dive into useful data structures, such as <em>sets</em>. These sources tend to focus on arrays and dictionaries only (as the focus is iOS development, and not necessarily computer science), not teaching other structures that are actually really useful in the iOS Development world. I have never seen an iOS dev resource that covered these structures as deeply as my computer systems engineering courses did.</p>
<p>Many computer science classes introduce data structures by teaching students the theory and making them implement them. We are not going to do be doing that here (unless there&rsquo;s demand for that, for a future article). Instead, this series will introduce a new structure and show you the native implementation in either Foundation or the Swift standard library.</p>
<p>Some of these articles may contain a bit of mathematical discussion. I do not want that to be a turn off to read them. I can guarantee you, as someone who has never had a good mathematical foundation, that understanding these concepts is both easy and important to grow your career.</p>
<p>Most of the examples here use numbers, but keep in mind that you can use any other object with sets as long as it complies with the <code>Equatable</code> protocol. Many types, like <code>String</code>s, are already Equatable so you can use those in sets right out of the box.</p>
<p>Without further ado, let&rsquo;s get into it.</p>
<h1 id="introduction-to-sets">Introduction to Sets.</h1>
<p><a href="https://plato.stanford.edu/entries/set-theory/">Stanford University</a> defines set theory as:</p>
<blockquote>
<p>Set theory is the mathematical theory of well-determined collections, called sets, of objects that are called members, or elements, of the set.</p>
</blockquote>
<p>In more humane words, a Set is a collection of some sort of object. These objects can have sub-groupings, or <em>sub sets</em>, that allow us to further constraint the objects a set can contain.</p>
<p>You may remember from your elementary school days, that numbers can be grouped in multiple sets:</p>
<p><strong>Natural numbers</strong>: Whole numbers from 1 upwards.
<strong>Integers</strong>: Whole numbers, which include both negative numbers and the number 0.
<strong>Rational Numbers</strong>: Numbers that result from dividing one integer by another, except division by zero. Essentially, fractions.</p>
<p>These are just some of the sets you have seen in school, but what matters here is that <em>Numbers</em> themselves are a set, and you can subset Numbers into many different categories. Integers are a <em>subset</em> of numbers, and Natural numbers are a subset of integers. We can further find more sets that were defined way before our time, and we can even create our own sets too, like numbers that can be divisible by 2 with a remainder of 0, and more.</p>
<h2 id="sets-and-arrays">Sets and Arrays</h2>
<p>Many times, I see programmers using Arrays when a Set may suffice. What you may be wondering at this point is what is the relationship of a set with an array? How can one replace the other?</p>
<p>In computer science, sets have an additional property, and that is that all its members are <em>unique</em>. Many libraries and frameworks offer you Sets with a an existing definition of Unique for specific data types. For example, in Swift, the definition of uniqueness for a set or integers is that each number must be different than any other existing number, but you can create your own definition of uniqueness for your custom types.</p>
<p>In contrast, an array can contain multiple elements, including repeating ones.</p>
<p>Many times I see programmers wanting to keep an array of unique elements, and swiftly making up ways to clean their arrays of duplicate elements. In Swift, if you need an array of unique elements, you can quickly convert between Sets and Arrays and vice-versa with an initializer. Both sets and arrays are <em>Collections</em> in Swift, and interoperating between them is easy.</p>
<p>Consider the following example:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> array = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set = Set(array)
</code></pre></div><p>We declare an array called <code>array</code> with a list of elements, and another set with the same list of elements.</p>
<p>If you count the number of elements in each:</p>
<pre><code>print(&quot;Array count: \(array.count) - Set count: \(set.count)&quot;) // 
</code></pre><p>You will find that <code>array</code> has more elements than <code>set</code>.</p>
<blockquote>
<p>Array count: 5 - Set count: 4</p>
</blockquote>
<p>We have magically converted an array into a set by just passing the array to the set. The set has done its magic and it has removed all the duplicate numbers for us.</p>
<h2 id="sets-and-ordering">Sets and Ordering</h2>
<p>Using sets has another implication though: They are not ordered by default, and there is no order to be found in the definition of a set. Some implementations in other libraries and languages may guarantee an order, but conceptually you should never rely on that.</p>
<p>If you <code>print(set)</code> multiple times, you will see the output is different every time.</p>
<p>Luckily, we can get a sorted version of the set easily by just calling <code>sorted()</code> or <code>sorted(by:)</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">print(<span style="color:#66d9ef">set</span>.sorted()) <span style="color:#75715e">// [1, 2, 3, 4]</span>
print(<span style="color:#66d9ef">set</span>.sorted(by: <span style="color:#f92672">&gt;</span>)) <span style="color:#75715e">// [4, 3, 2, 1]</span>
</code></pre></div><p>Do note that, if you need to keep the set ordered to begin with - every insertion inserts the item in the right place -, you will need to use something different. Foundation provides <a href="https://developer.apple.com/documentation/foundation/nsorderedset">NSOrderedSet</a> for this. Because it&rsquo;s an old Foundation API, it does not support Swift generics, so using it requires a bit of involved code.</p>
<h2 id="set-operations">Set Operations</h2>
<p>Now let&rsquo;s talk about common set operations you can do. All the set operations I am going to talk to about take two sets and return another set. Keep these in mind as you will likely find moments where it&rsquo;s useful to know them in your code.</p>
<h3 id="intersection">Intersection</h3>
<p>The <strong>intersection</strong> operation returns a new set of elements that exist in both sets.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

<span style="color:#66d9ef">let</span> intersection = set1.intersection(set2)
print(intersection) <span style="color:#75715e">// [3, 4]</span>
</code></pre></div><p>In the above example, <code>intersection</code> only contains <code>3</code> and <code>4</code>, as those are the only items that exist in both sets. Do note that there is no guaranteed order in the resulting set, so you can expect a different order every time.</p>
<h3 id="difference">Difference</h3>
<p>Given <code>set1</code> and <code>set2</code>, the difference of two sets are the elements that are unique to each set. It is essentially the opposite of intersection.</p>
<p>In Swift, <code>symmetricDifference</code> will return a new set.</p>
<pre><code>let set1: Set = [1, 2, 3, 4]
let set2: Set = [3, 4, 5, 6]

let difference = set1.symmetricDifference(set2)
print(difference) // [6, 5, 2, 1]
</code></pre><p>Swift also has the <code>formSymmetricDifference</code> method for sets. This call will remove the elements that exist in both sets, and it will append the resulting elements from the second set to the first one:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">var</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

set1.formSymmetricDifference(set2)
print(set1) <span style="color:#75715e">// [6, 5, 2, 1]</span>
</code></pre></div><p>Do note that because this mutates a set, the &ldquo;target&rdquo; set has to be declared as <code>var</code>.</p>
<h3 id="isdisjoint">isDisjoint</h3>
<p>Given a <code>set1</code> and <code>set2</code>, <code>set1</code> is <em>disjoint</em> with <code>set2</code> if <code>set2</code> contains only elements that are not part of <code>set1</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]
<span style="color:#66d9ef">let</span> set3: Set = [<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

set1.isDisjoint(with: set2) <span style="color:#75715e">// false</span>
set1.isDisjoint(with: set3) <span style="color:#75715e">// true</span>
</code></pre></div><h3 id="superset-checking">Superset Checking</h3>
<p>You can check if <code>set1</code> is a <em>superset</em> - in other words, that <code>set1</code> contains all the elements - of <code>set2</code>.</p>
<p>We say <code>set1</code> is a superset of <code>set2</code> if every member of <code>set2</code> also belongs to <code>set1</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set3: Set = [<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">6</span>]

set1.isSuperset(of: set2) <span style="color:#75715e">// true</span>
set1.isSuperset(of: set3) <span style="color:#75715e">// false</span>
</code></pre></div><p>We can also check if <code>set1</code> is a <em>strict superset</em> of <code>set2</code>.</p>
<p><code>set1</code> is a strict superset of <code>set2</code> when all the elements in <code>set2</code> exist in <code>set1</code>, and when <code>set1</code> contains at least one element that is not part of <code>set2</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1 = Set([<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>])
<span style="color:#66d9ef">let</span> set2 = Set([<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>])

set1.isStrictSuperset(of: set2) <span style="color:#75715e">// true</span>
</code></pre></div><p>Because of this, a set is a <em>superset</em> of itself, but a set will never be a <em>strict superset</em> of itself.</p>
<h3 id="subset-checking">Subset Checking</h3>
<p>Just like we can check when a set is a superset or strict superset of another set, we can do the same with subsets.</p>
<p><code>set2</code> is a <em>subset</em> of <code>set1</code> when all the elements of <code>set2</code> exist on <code>set1</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]

set2.isSubset(of: set1) <span style="color:#75715e">// true</span>
</code></pre></div><p><code>set2</code> is a <em>strict subset</em> of <code>set1</code> when every member of <code>set2</code> is also a member of <code>set1</code> and <code>set1</code> contains at least one element that is not part of <code>set2</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]

set2.isStrictSubset(of: set1) <span style="color:#75715e">// true</span>
</code></pre></div><h3 id="subtraction">Subtraction</h3>
<p>From <code>set1</code>, you can remove all the elements that exist in <code>set2</code>.</p>
<p>There are two ways of doing this: The first method returns a new set containing the elements of <code>set1</code> that were removed because they were in <code>set2</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]

<span style="color:#66d9ef">let</span> subtraction = set1.subtracting(set2) <span style="color:#75715e">// [1, 2]</span>
</code></pre></div><p>The other one takes a mutating set, and the subtraction occurs on it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">var</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]

set1.subtract(set2) <span style="color:#75715e">// [1, 2]</span>
</code></pre></div><h3 id="union">Union</h3>
<p>The union between <code>set1</code> and <code>set2</code> contains all the elements of both sets, with the duplicate ones removed.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

<span style="color:#66d9ef">let</span> union = set1.union(set2) <span style="color:#75715e">// [1, 2, 3, 4, 5, 6]</span>
</code></pre></div><p><code>formUnion</code> does the same, but operating on a mutable set instead.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">var</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

set1.formUnion(set2) <span style="color:#75715e">// [1, 2, 3, 4, 5, 6]</span>
</code></pre></div><h3 id="inserting-and-updating">Inserting and Updating</h3>
<p>You can insert new elements to mutating sets. For this, we have the <code>insert</code> and <code>update</code> methods.</p>
<p>They work very similarly, with the difference living in the return object.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">var</span> set1: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

set1.update(with: <span style="color:#ae81ff">4</span>) <span style="color:#75715e">// returns 4</span>
set1.insert(<span style="color:#ae81ff">7</span>) <span style="color:#75715e">// returns (true, 7)</span>
</code></pre></div><p><code>update</code> returns the object that was just inserted, or <code>nil</code> if the object could not be inserted because it already exists.</p>
<p><code>insert</code> returns a boolean indicating if the member was inserted, and the value of the <code>last</code> member that was equal to the inserted one. This is important, because with more complicated member types, you may have logic to consider equality for sets, but ultimately your objects may have differences.</p>
<h2 id="high-order-functions">High-order Functions</h2>
<p>Because Sets in Swift are implemented as Collections, you can use <code>filter</code>, <code>map</code>, <code>reduce</code> and other high order functions on them.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> set: Set = [<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>]
<span style="color:#66d9ef">let</span> set2: Set = [<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">6</span>]

<span style="color:#66d9ef">let</span> filtered = <span style="color:#66d9ef">set</span>.filter { $0 <span style="color:#f92672">%</span> <span style="color:#ae81ff">2</span> == <span style="color:#ae81ff">0</span> } <span style="color:#75715e">// [2, 4]</span>

</code></pre></div><h2 id="apis-based-on-sets">APIs based on Sets</h2>
<p>Finally, I want to talk about other APIs that are implemented as sets and are really useful. In particular, I want to talk about Foundation&rsquo;s <code>Character set</code>s.</p>
<p>The sets you have seen until now can be really useful and I fully expect to see such code in the real world, but character sets are very useful, especially when dealing with strings.</p>
<p>Introduced in iOS 7, <a href="https://developer.apple.com/documentation/foundation/characterset">CharacterSet</a> gives us access to predefined character sets and allows us to create our own. These sets can help us create some string validations easier.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> letters = CharacterSet.letters

<span style="color:#66d9ef">let</span> string = <span style="color:#e6db74">&#34;pullipalice&#34;</span>
<span style="color:#66d9ef">let</span> stringCharacters = CharacterSet(charactersIn: string)

stringCharacters.isSubset(of: letters) <span style="color:#75715e">// true</span>
</code></pre></div><p>We are checking a simple string and seeing if it has only letters. <code>CharacterSet</code> has many predefined sets for us, such as <code>letters</code>, <code>alphanumeric</code>, <code>decimalDigits</code>, and more. We can also very easily create our own character sets. In the following example, we will create a set with morse code characters and compare it against some strings.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">let</span> morseCodeCharSet = CharacterSet(arrayLiteral: <span style="color:#e6db74">&#34;.&#34;</span>, <span style="color:#e6db74">&#34;-&#34;</span>)
<span style="color:#66d9ef">let</span> string1 = <span style="color:#e6db74">&#34;..--.-&#34;</span>
<span style="color:#66d9ef">let</span> string2 = <span style="color:#e6db74">&#34;alice..-..&#34;</span>
<span style="color:#66d9ef">let</span> string3 = <span style="color:#e6db74">&#34;------&#34;</span>

<span style="color:#66d9ef">let</span> string1Set = CharacterSet(charactersIn: string1)
<span style="color:#66d9ef">let</span> string2Set = CharacterSet(charactersIn: string2)
<span style="color:#66d9ef">let</span> string3Set = CharacterSet(charactersIn: string3)

morseCodeCharSet.isSuperset(of: string1Set) <span style="color:#75715e">// true</span>
morseCodeCharSet.isSuperset(of: string2Set) <span style="color:#75715e">// false</span>
string3Set.isSubset(of: morseCodeCharSet) <span style="color:#75715e">// true</span>
</code></pre></div><h1 id="conclusion">Conclusion</h1>
<p>Sets are a very powerful but lesser used data structure. They have al of features and they can take up the place of arrays more often than we would think. It&rsquo;s worth to study them, as they will help us become better developers.</p>

    <hr>

  <p>If you find any inaccuracies (and that includes typos) or problems in this article please tweet at me (<a href="https://twitter.com/AndyIbanezK" target="_blank">@AndyIbanezK</a>) or send me an e-mail to website[at]andyibanez[dot]com.</p>

  <p>Please do not e-mail to ask me to cross-promote your website or any other soliciting of that kind. AndyIbanez.com is a personal blog, and unless there's a chance to enter a sponsorship relationship with you, I may ignore your message.</p>

  <p>Thank you for helping me improve the quality of my blog!</p>
  </div>
  

<div class="navigation navigation-single">
    
    <a href="/posts/being-ios-developer-bolivia/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Being an iOS Developer in Bolivia (and South America)</span>
    </a>
    
    
    <a href="/posts/understanding-basic-data-structures-dictionaries-in-depth/" class="navigation-next">
      <span class="navigation-tittle">Understanding Basic Data Structures in Swift: Dictionaries in Depth</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    
        <script src="https://utteranc.es/client.js"
        repo="AndyIbanez/andyibanez-com"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
    


</article>


        </div>
        
    

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-146179797-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/swift.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/objectivec.min.js"></script>
            
        
    
    <script type="text/javascript">
        
        hljs.configure({languages: ["swift, objectivec"]});
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
